## cmdb的介绍
configuration manage database 配置管理数据库
作用是用来统一管理各个系统的基础信息，以便提供比较稳定数据查询能力

### 云监控使用cmdb的原因

使用cmdb之前的存在的问题与痛点
1、在早期云监控设计中基于名称空间(namespace)、视图名称(viewname)来隔离各个产品上报的维度信息；但是随着产品接入的增加和产品自身的业务增加后，
发现之前上报到监控侧的维度信息不足以满足客户需求，于是就要添加上报的维度；但是基于原来的名称空间和视图名称下是不支持添加新的维度上报的,所以云产品就
不得不重新创建一个视图名称来上报维度，为了添加新维度信息，就必须把老的维度信息也再上报一份在新视图名称下。这样就会造成一个问题，维度信息的重复；
又因为为了支持维度的快速转换，云产品的维度信息是存放在内存中的，这样大量的重复维度导致了内存使用量剧增，成本巨大

2、在云监控告警通知中，当客户需要某个云产品的某些信息时(这些信息可以理解为该云产品的维度信息)，由于云监控这边没有存放云产品的维度信息
(接入维度和云监控告警不是同一个服务系统)，即使能使用接入的维度，但是可能接入的维度里面不支持客户需要的信息，如果添加，那将带来更大的成本问题
为了解决这个问题，告警通知服务不得不做一个折中的方式，那就是通过脚本回调接口的方式去拿云产品的维度信息，这样能解决当前问题，但是也引入了更多的问题；
脚本管理(管理分散、复杂的高、数据不统一，当需要其他信息时，就不得不改产品接口和脚本信息和告警通知业务)、每次去拿数据效率问题(即使做缓存、就会存在信息更新数据不一致问题)

基于以上存在的问题，于是就衍生出了cmdb这样的数据底座

### cmdb 在云监控侧解决的问题
基于cmdb，通过拉取、推送、订阅的方式将各个云产品的维度信息接入到cmdb系统中，该系统支持新增、删除上报的维度信息，且不会存在冗余的维度数据信息(only one)
这就解决了维度上报重复、成本巨大的问题

基于cmdb查询维度，告警通知模块(任何可能使用到云产品维度的模块都一样)，可以直接方法cmdb系统，而不是直接和云产品交互，不需要各个模版都去维护和云产品的交互信息
如果cmdb中没有某个云产品的维度信息，那么就可以在cmdb与云产品的接入中支持一下新增的维度即可（设计好的cmdb系统，可能就只需要修改一下接入的维度映射即可）


### cmdb 设计目标

- 服务分治，按领域进行数据管理，建立数据对接标准和准确性保障机制。
- 统一数据术语，保证数据唯一性。
- 构建动态数据模型，提供可扩展性数据治理。
- 南向数据多渠道和方式获取，北向提供可靠数据获取服务。
- 数据变更订阅能力以及操作审计追踪。