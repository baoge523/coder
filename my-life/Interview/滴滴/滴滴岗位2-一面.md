### 自我介绍 + 项目介绍

设计模式相关的：
    模版模式
    工厂模式，抽象工厂模式
    策略模式
数据结构 map key是枚举的类型，value是一个interface（可以做到类型约束）


golang中的interface：
    面向interface编程
    基于编译时的检测、基于类型的检测（某个接口的存储对象，需要该接口的实现类才可以）

说一下chan，从使用场景、内部实现机制

chan的零拷场景：
无缓冲的chan
单生产者，多消费者的情况，一有数据就被消费

grpc的内部实现： 基于 http2.0 和 protocol buffer
```text
内部生态： 比如服务发现、路由规则（最近原则、随机、轮询等）


```

protocol buffer 的二进制编码和其他的二进制编码的区别？ 有什么优化之处
```text
1、基于字段标签（Tag-Value）而非字段名
   在protocol buffer 中，我们在.proto文件中会定义rpc接口和请求响应对象，在定义请求响应对象时会为每一个字段指定一个编号，所以在protocol buffer的二进制编码中，使用字段标签替代字段名
   
优点：
    节省空间：数字标签通常仅占1-2字节，远小于字段名的字符串长度。
    兼容性：字段名变更不影响已序列化数据（只要标签号不变）。
    
2、紧凑的二进制布局
    相比JSON/XML的文本格式或其他二进制编码（如BSON），protobuf省略了冗余符号（如括号、引号）
    
优化：
    无分隔符：数据直接按标签顺序排列。
    默认不传输默认值（可配置为显式传输）
    
3、可选字段与向后兼容性

Protocol Buffers 的优化核心在于牺牲自描述性换取极致紧凑性和解析效率，尤其适合版本化、高吞吐的分布式系统
```


在分布式系统中，rpc中，像主调服务、traceId会在元数据中透传给下游服务，这些数据比如服务名称、traceId是明文传输的吗？ 还是说做了什么优化
> 可能想问TLS吧，加密传输，避免元数据明文



raft的选举： 如何自己实现一个一致性算法

cap - base理论（基本可用，软状态，最终一致性）


分布式事务： tcc  在银行转账的场景下
t做了哪些事情   查询账户a的余额，冻结需要转账的金额，预留账户b的资源  --- 不仅仅是查询
c做了哪些事情  执行t中预留的资源，比如转账冻结的金额，预留账户b的资源
c取消，是取消哪些资源   取消t中的资源

在用户账户扣款场景中，t是简单的查询用户账户的金额么？ 那这样在t阶段两个事务都能通过；比如查询到a用户账户存在100元

分布式中的幂等性问题 -- 查询模式









### 反问环节

业务是什么： 滴滴企业出差一站式服务：比如出行（打车）、订酒店 等
  具体业务是控制用户出差的订购酒店、出行的限制度

比如：公司的管理员在滴滴管理后台设置了出差策略，打车时间段、出差订购酒店金额限制；当公司成员打车时，只有异地或者指定的区间段才能打车-企业支付；
     订购的酒店推荐指定范围下的酒店，如果用户选择了更高金额的酒店，那么会提示用户自费