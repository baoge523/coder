
### 自我介绍 + 项目介绍

### GMP模型

主要当出现系统调用时，提出去的goroutine是怎么再回到p的任务队列中的呢

当系统调用后：
    M需要重新绑定P继续执行，如果能成功绑定P，那么将G放入到P的runqueue中
                        如果所有的P都处于繁忙状态，那么M将G放入到公共的runqueue中，然后将自己加入到空闲队列中



### channel的使用，与底层实现

channels are inherently interesting
 - goroutine-safe
 - store and pass values between goroutines
 - provide FIFO semantics
 - can cause the goroutines to block and unblock


make chanel
    buffered channel
    unbuffered channel

hchan struck
    buf             circular queue
    sendx           send index
    receivex        receive index
    lock            mutex
    sendq           waitq （sudog的队列）
    receq           waitq （sudog的队列）
    ...



### redis的架构选型模式
Redis的架构模式主要包括：单机架构、主从复制（Master-Slave）架构、哨兵（Sentinel）架构和集群（Cluster）架构。 
    单机架构是最基础的，数据存储在单个实例中；
    主从复制用于数据冗余和读扩展；
    哨兵模式是为解决主从切换问题而设计的高可用方案；
    而集群模式则通过分片实现数据水平扩展，适用于海量数据和高并发场景

主要就是哨兵模式与集群模式的技术选型：
1、哨兵模式，主要是基于哨兵的方案解决主从模式中主挂了，从自动切换成主 -- 高可用，读写分离，存储数据量相对比较小一点（主要是只有一个节点写）
2、集群模式：基于分片的方案部署，redis将集群分成了16384个槽，部署到集群中的节点平分这些槽 -- 有点类似于一致性hash的那味了 -- 数据分片、每个节点可以是一个哨兵模式（主备）、高可用、存储大量数据
        动态的扩充节点和删除节点时，影响的数据范围是： -- 重分配槽
        数据迁移过程中，数据的访问存在三种情况：
          1、访问数据时，数据所在的槽需要从A节点迁移到D节点，但是还没有迁移，直接返回数据
          2、访问数据时，数据所在的槽需要从A节点迁移到D节点，已经迁移到D节点了，但是槽还没有改到D节点下； -- A节点返回从定向指令，让客户端去D节点查询；对用户是透明的，给用户的表现就是查询变慢了
          3、更新数据时，数据正在迁移的过程中，此过程会锁住该key，然后等迁移完成解锁后，才可以操作数据
    


### 关于对查询、搜索、推荐的看法

搜索：  基于es的倒排索引，高效查询

推荐：
    1、基于内容的推荐 ：根据用户过去喜欢的物品（如点赞过的文章），推荐与这些物品内容相似的新物品。
    2、基于协同过滤推荐
    3、混合推


### 问答阶段
好像是负责知乎所有的业务查询的入口，比如常见的一些热榜推荐

存储模式：
    redis（分片吧） + 多种存储模式