## 处理业务流量激增的方式

1、首先对可能有这样的服务提前做一些埋点行为
> 限流配置开关配置  -- 动态配置
> 流量监控指标，告警通知  -- 不然流量激增了，也不能第一时间知道


处理方式：
如果业务是基于细粒度的限频，那么需要快速的找到激增流量是来自哪里？

比如监控常见，常见的全部对象绑定的策略(该用户下，该产品的所有的实例都会告警，如果策略配置条件配置不当，就会存在大量的告警，在某一个时间点，几乎所有的实例都会告警)

解决方式：
1、限频 -- 网关处理处理
2、基于策略的收敛 -- 但也会造成大量的压力



## 对应激增流量的处理方式 -- 组合拳

通常采用 “弹性伸缩 + API网关（令牌桶算法限频）+ 应用降级 + 消息队列” 的组合拳

1、弹性伸缩  -- 基于水平拓展的能力，解决激增的流量
2、网关限流  -- 令牌桶算法 (以一个均衡的速度向一个固定大小的桶中存放令牌，满就不放)，能限流同时也能处理部分激增流量
3、业务降级  -- 在应用业务处理不过来(负载高)时，业务应该做降级处理，而不是一味的处理，直到自己OOM，返回异常给用户
4、消息队列  -- 使用MQ存储，异步处理(根据业务的能力处理)

对于激增的流量需要从整体的服务链路来看，木桶原则(哪里是短板，有效率问题的服务，需要多关注)

